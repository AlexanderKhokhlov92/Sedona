const video=document.querySelector(".video"),playButton=document.querySelector(".video-player_play-pause-repeat-button"),timeRangeInput=document.querySelector(".video-player-time-range");function togglePlayPause(){video.paused||video.ended?(video.play(),playButton.classList.add("playing"),playButton.classList.remove("repeat")):(video.pause(),playButton.classList.remove("playing"))}function setMaxTimeRange(){timeRangeInput.max=Math.round(video.duration)}function formatTime(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n<10?"0":""}${n}`}function updateCurrentTime(){const e=video.currentTime;formatTime(e);timeRangeInput.value=e}function updateTimeByRangeInput(){const e=parseFloat(timeRangeInput.value);video.currentTime=e}video.addEventListener("ended",(function(){playButton.classList.remove("playing"),playButton.classList.add("repeat")})),video.addEventListener("click",togglePlayPause),playButton.addEventListener("click",togglePlayPause),video.addEventListener("loadedmetadata",setMaxTimeRange),video.addEventListener("timeupdate",updateCurrentTime),timeRangeInput.addEventListener("input",updateTimeByRangeInput);const fullscreenButton=document.querySelector(".video-player_fullscreen-button");function toggleFullscreen(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen():video.requestFullscreen?video.requestFullscreen():video.mozRequestFullScreen?video.mozRequestFullScreen():video.webkitRequestFullscreen?video.webkitRequestFullscreen():video.msRequestFullscreen&&video.msRequestFullscreen()}function handleKeyPress(e){"Escape"===e.key&&toggleFullscreen()}fullscreenButton.addEventListener("click",toggleFullscreen),document.addEventListener("keydown",handleKeyPress);